@using System
@using System.Linq
@using hhs_p6_webshop_project.Models.ProductModels
@model Product

@{
    var imagePath = "images/default.jpg";

    try {
        imagePath = @Model.ProductTypes.FirstOrDefault().Images.FirstOrDefault().Path;
    } catch (Exception e) {
        // Tering harde beun maar het werkt echt perfect
    }
}

<div class="product col-md-4 col-sm-12 wow animate-product-catalog-enter" data-wow-delay="@((Int32.Parse(ViewData["itemIndex"].ToString()) * 0.04) + "s")">
    <a asp-action="Details" asp-route-id="@Model.ProductId">
        <div class="vertical-align">
            <div class="horizontal-align">
                <img class="product-image" src="~/@imagePath" alt="@Model.Name" />
            </div>
        </div>

        <h5 class="product-title">
            @Model.Name
        </h5>

        <span class="product-sku">
            <!-- TODO: Get the SKU -->
            Artikel nr. 41704
        </span>

        <div class="product-colors">
            <div class="color-circle"></div>
            <div class="color-circle hm-pink-dark"></div>
            <div class="color-circle hm-pink-light"></div>
        </div>

        @if (User.Identity.IsAuthenticated) {
        <div class="product-edit-buttons">
            <a class="btn" asp-action="Edit" asp-route-id="@Model.ProductId">Edit</a>
            <a class="btn" asp-action="Delete" asp-route-id="@Model.ProductId">Delete</a>
        </div>
        }
    </a>
</div>